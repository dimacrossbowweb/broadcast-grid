<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + TS</title>
	<style>

		html, body {

			margin: 0;
			padding: 0;

			background-color: #222222;

		}

	</style>
  </head>
  <body>
    <!-- <script type="module" src="/src/index.ts"></script> -->

	<script type="module">
		import { useGrid } from './src/index.ts';

		document.addEventListener( 'DOMContentLoaded', () => {

			useGrid();

		} );

	</script>

	<div id="app" style="position: relative; height: 100vh">

		<button onclick="addCell()" style="position: fixed; left: 10px; top: 10px; z-index: 1000">

			+

		</button>

		<broadcast-grid id="grid">
		
			<broadcast-cell>
			
				<broadcast-layer style="display: flex; justify-content: center; align-items: center;">

					<broadcast-avatar

						color="#992255"
						name="Дмитрий Волгапкин"

					></broadcast-avatar>

				</broadcast-layer>
			
			</broadcast-cell>
		
		</broadcast-grid>

	</div>

	<script>

		let gap = 4;

		function addCell () {

			const cell = document.createElement( 'broadcast-cell' );

			const grid = document.getElementById( 'grid' );

			grid.appendChild( cell );

			const layer = document.createElement( 'broadcast-layer' );

			layer.style.display = 'flex';
			layer.style.justifyContent = 'center';
			layer.style.alignItems = 'center';

			cell.appendChild( layer );

			const avatar = document.createElement( 'broadcast-avatar' );

			avatar.setAttribute( 'name', 'AA AA' );

			avatar.setAttribute( 'color', '#920043' );

			layer.appendChild( avatar );

		}

		function changeGap () {

			const cell = document.createElement( 'broadcast-cell' );

			const grid = document.getElementById( 'grid' );

			grid.setAttribute( 'gap', ++gap );

		}

	</script>

  </body>
</html>
